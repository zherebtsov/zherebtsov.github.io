var ESC_KEY_CODE=27;function initPopup(e,o){var t=document.querySelectorAll(e),a=document.querySelector(o),l=a.querySelector(".modal-close");t.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),a.classList.add("modal-show")})}),l.addEventListener("click",function(e){e.preventDefault(),a.classList.remove("modal-show"),a.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){e.keyCode===ESC_KEY_CODE&&(e.preventDefault(),a.classList.contains("modal-show")&&(a.classList.remove("modal-show"),a.classList.remove("modal-error")))})}function initCallbackForm(e){var o=document.querySelector(e),t=o.querySelector(".callback-form"),a=t.querySelector("[name=name]"),l=t.querySelector("[name=email]"),r=t.querySelector("[name=message]");t.addEventListener("submit",function(e){a.value&&l.value&&r.value||(e.preventDefault(),o.classList.remove("modal-error"),o.offsetWidth=o.offsetWidth,o.classList.add("modal-error"))})}initPopup(".button-open-map",".modal-map"),initPopup(".button-open-callback",".modal-callback"),initCallbackForm(".modal-callback"),initPopup(".button-open-cart",".modal-cart");
